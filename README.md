# Bulletin Board (доска объявлений)

Проект предназначен для размещения объявлений с возможностью регистрации 
пользователей, добавления и удаления объявлений, а также управления ими.
Приложение разработано на Django и предоставляет API с использованием 
Django Rest Framework (DRF) для обработки запросов.

---
# Содержание
1. [Описание проекта](#описание-проекта)
2. [Технологии](#технологии)
3. [Установка и настройки](#установка-и-настройки)
   - [Без Docker](#без-docker)
   - [С Docker](#с-docker)
4. [Использование](#использование)
   - [Регистрация пользователя](#регистрация-пользователя)
   - [Сброс пароля](#сброс-пароля)
5. [Тестирование](#тестирование)
6. [Документация API](#документация-api)

---
# Описание проекта

Bulletin Board — это платформа для создания и управления объявлениями. 
Пользователи могут создавать аккаунты, оставлять свои контактные данные и 
добавлять объявления. Также поддерживаются возможности редактирования и 
удаления объявлений. Приложение позволяет пользователям сбрасывать пароли 
и восстанавливать доступ к своим аккаунтам через email.

---
# Технологии 

- Python - язык программирования
- Django - фреймворк для разработки веб-приложения
- Django Rest Framework (DRF) - для создания RESTful API
- Celery - для асинхронной обработки задач (отправки email)
- PostgreSQL - база данных
- pytest - для тестирования
- flake8 - для линтинга
- Docker - для упаковки проекта в контейнер

---

# Установка и настройки
### Без Docker 
Если вы не хотите использовать Docker, выполните следующие шаги для настройки
локальной среды.

1. Клонирование репозитория
Сначала клонируйте репозиторий на свой локальный компьютер:
    ```
    git clone https://github.com/User1Maks/bulletin_board.git
    ```
   
2. Создайте, активируйте виртуальное окружение и установите зависимости 
к проекту
    ```
    poetry shell
    ```
    ```
    poetry update
    ```
   
3. Создайте файл .env и заполните его по примеру .env sample. 

4. Настройка базы данных.
Примените миграции для создания всех нужных таблиц:
    ```
    python manage.py migrate
    ```

5. Запустите сервис Django, а так же Celery:

   - запуск сервера Django;
    ```
    python manage.py runserver
    ```
    - запуск Celery worker;
    ```
    celery -A config worker -l INFO
    ```   
    ---
### С Docker

Для использования Docker для развертывания приложения выполните 
следующие шаги.

1. Клонирование репозитория
Сначала клонируйте репозиторий на свой локальный компьютер:
    ```
    git clone https://github.com/User1Maks/bulletin_board.git
    ```
2. Сборка Docker-образа
В корневой директории вашего проекта должен быть файл Dockerfile, 
который определяет, как собирать образ Docker. Для сборки образа 
выполните команду:
    ```
    docker build -t bulletin_board .
    ```
3.  Запуск приложения с помощью Docker Compose
Запустите приложение с помощью команды:
    ```
    docker-compose up
    ```
    Это создаст все необходимые контейнеры (например, контейнер для базы 
    данных PostgreSQL и контейнер для приложения Django). Приложение будет 
    доступно по адресу http://localhost:8000/.
4. Остановка контейнеров
Для остановки контейнеров используйте команду:
    ```
    docker-compose down
    ```

---
# Использование
### Регистрация пользователя
Для регистрации нового пользователя необходимо отправить запрос на API 
для создания пользователя с передачей email и пароля.
POST /users/register/

    {
      "email": "user@example.com",
      "password": "Password"
    }

### Сброс пароля
Для сброса пароля отправьте email для получения ссылки для восстановления 
пароля.
POST /users/password-reset/

    {
      "email": "user@example.com"
    }

### Тестирование
Для запуска тестов используйте pytest:
```
pytest
```

### Линтинг
Для проверки кода на соответствие стилю используйте flake8:
```
flake8 .
```

---
# Документация API
Документация к проекту swagger: http://127.0.0.1:8000/swagger/
Документация к проекту redoc: http://127.0.0.1:8000/redoc/
